(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{5196:function(e,t,s){Promise.resolve().then(s.bind(s,9789))},9789:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return x}});var a=s(7437),n=s(2265),r=s(7370),l=s(8810),i=s(826),c=s(5750),o=s(998),d=s(1298),u=s(5790),h=s(5925),p=s(4033);function x(){let{user:e}=(0,l.useAuth)(),t=(0,p.useRouter)(),[s,x]=(0,n.useState)([]),[m,g]=(0,n.useState)(null),[f,b]=(0,n.useState)(!0);(0,n.useEffect)(()=>{if(!e||"ADMIN"!==e.role){t.push("/dashboard");return}j()},[e]);let j=async()=>{try{let[e,t]=await Promise.all([i.Nq.getUsers(),i.Nq.getAnalytics()]);x(e.data.users),g(t.data)}catch(e){h.default.error("Failed to load admin data")}finally{b(!1)}},v=async(e,t)=>{try{await i.Nq.updateUser(e,t),h.default.success("User updated"),j()}catch(e){h.default.error("Failed to update user")}},N=async e=>{if(confirm("Are you sure you want to delete this user?"))try{await i.Nq.deleteUser(e),h.default.success("User deleted"),j()}catch(e){h.default.error("Failed to delete user")}};return f?(0,a.jsx)(r.Z,{children:(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500"})})}):(0,a.jsx)(r.Z,{children:(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Admin Dashboard"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:"Total Users"}),(0,a.jsx)("p",{className:"text-2xl font-bold mt-1",children:(null==m?void 0:m.totalUsers)||0})]}),(0,a.jsx)(c.Z,{className:"w-12 h-12 text-red-500"})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:"Total Usage"}),(0,a.jsx)("p",{className:"text-2xl font-bold mt-1",children:(null==m?void 0:m.totalUsage)||0})]}),(0,a.jsx)(o.Z,{className:"w-12 h-12 text-green-600"})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:"Revenue"}),(0,a.jsxs)("p",{className:"text-2xl font-bold mt-1",children:["$",(null==m?void 0:m.revenue)||0]})]}),(0,a.jsx)(d.Z,{className:"w-12 h-12 text-yellow-600"})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:"Growth"}),(0,a.jsx)("p",{className:"text-2xl font-bold mt-1",children:"+12%"})]}),(0,a.jsx)(u.Z,{className:"w-12 h-12 text-purple-600"})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"Users"})}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Email"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Plan"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Credits"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-200",children:s.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:e.email}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.name})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"px-2 py-1 rounded text-xs font-semibold ".concat("PRO"===e.subscriptionPlan?"bg-purple-100 text-purple-800":"PAID"===e.subscriptionPlan?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:e.subscriptionPlan})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.credits}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat("ACTIVE"===e.subscriptionStatus?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.subscriptionStatus})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>v(e.id,{credits:e.credits+100}),className:"text-red-500 hover:text-red-700 text-sm",children:"Add Credits"}),(0,a.jsx)("button",{onClick:()=>N(e.id),className:"text-red-600 hover:text-red-800 text-sm",children:"Delete"})]})})]},e.id))})]})})]})]})})}},7370:function(e,t,s){"use strict";s.d(t,{Z:function(){return N}});var a=s(7437),n=s(1396),r=s.n(n),l=s(4033),i=s(8810),c=s(5119),o=s(2882),d=s(6637),u=s(8339),h=s(6002),p=s(8956),x=s(1271),m=s(7461),g=s(1295),f=s(1738),b=s(5750),j=s(9409),v=s(5883);function N(e){var t,s;let{children:n}=e,N=(0,l.usePathname)(),y=(0,l.useRouter)(),{user:w,logout:k}=(0,i.useAuth)(),A=[{name:"Dashboard",href:"/dashboard",icon:c.Z},{name:"AI Chat",href:"/chat",icon:o.Z},{name:"Documents",href:"/documents",icon:d.Z},{name:"Media",href:"/media",icon:u.Z},{name:"Presentations",href:"/presentations",icon:h.Z},{name:"Websites",href:"/websites",icon:p.Z},{name:"Mobile Apps",href:"/mobile-apps",icon:x.Z},{name:"LinkedIn",href:"/linkedin",icon:m.Z},{name:"Social Media",href:"/social-media",icon:p.Z},{name:"Email",href:"/email",icon:g.Z}];return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsxs)("aside",{className:"fixed left-0 top-0 h-full w-64 bg-white border-r border-gray-200 flex flex-col overflow-hidden",children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-200 flex-shrink-0",children:(0,a.jsx)("h1",{className:"text-xl font-bold bg-gradient-to-r from-red-500 to-pink-500 bg-clip-text text-transparent",children:"AI SaaS Platform"})}),(0,a.jsx)("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:A.map(e=>{let t=e.icon,s=N===e.href||(null==N?void 0:N.startsWith(e.href+"/"));return(0,a.jsxs)(r(),{href:e.href,className:"flex items-center gap-3 px-4 py-3 rounded-lg transition ".concat(s?"bg-red-50 text-red-500 font-semibold":"text-gray-700 hover:bg-gray-50"),children:[(0,a.jsx)(t,{className:"w-5 h-5"}),e.name]},e.name)})}),(0,a.jsxs)("div",{className:"p-4 border-t border-gray-200 space-y-2 flex-shrink-0",children:[(0,a.jsxs)(r(),{href:"/pricing",className:"flex items-center gap-3 px-4 py-3 rounded-lg text-gray-700 hover:bg-gray-50 transition",children:[(0,a.jsx)(f.Z,{className:"w-5 h-5"}),"Pricing"]}),(null==w?void 0:w.role)==="ADMIN"&&(0,a.jsxs)(r(),{href:"/admin",className:"flex items-center gap-3 px-4 py-3 rounded-lg text-gray-700 hover:bg-gray-50 transition",children:[(0,a.jsx)(b.Z,{className:"w-5 h-5"}),"Admin"]}),(0,a.jsxs)(r(),{href:"/settings",className:"flex items-center gap-3 px-4 py-3 rounded-lg text-gray-700 hover:bg-gray-50 transition",children:[(0,a.jsx)(j.Z,{className:"w-5 h-5"}),"Settings"]}),(0,a.jsxs)("button",{onClick:()=>{k(),y.push("/login")},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-red-600 hover:bg-red-50 transition",children:[(0,a.jsx)(v.Z,{className:"w-5 h-5"}),"Logout"]})]})]}),(0,a.jsxs)("div",{className:"ml-64",children:[(0,a.jsxs)("header",{className:"bg-white border-b border-gray-200 px-8 py-4 flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-gray-800",children:(null===(t=A.find(e=>N===e.href||(null==N?void 0:N.startsWith(e.href+"/"))))||void 0===t?void 0:t.name)||"Dashboard"}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:(null==w?void 0:w.name)||(null==w?void 0:w.email)}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:[null==w?void 0:w.subscriptionPlan," Plan â€¢ ",null==w?void 0:w.credits," credits"]})]}),(null==w?void 0:w.avatar)?(0,a.jsx)("img",{src:w.avatar,alt:"Avatar",className:"w-10 h-10 rounded-full"}):(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-red-500 flex items-center justify-center text-white font-semibold",children:(null==w?void 0:null===(s=w.name)||void 0===s?void 0:s[0])||(null==w?void 0:w.email[0].toUpperCase())})]})]}),(0,a.jsx)("main",{className:"p-8",children:n})]})]})}},826:function(e,t,s){"use strict";s.d(t,{BG:function(){return p},JY:function(){return u},Nq:function(){return b},XF:function(){return x},Yv:function(){return o},_v:function(){return f},cF:function(){return d},d9:function(){return g},h7:function(){return h},iJ:function(){return l},rp:function(){return m},tG:function(){return c},xU:function(){return i}});var a=s(4829);let n=s(2601).env.NEXT_PUBLIC_API_URL||"http://localhost:5000/api",r=a.Z.create({baseURL:n,headers:{"Content-Type":"application/json"}});r.interceptors.request.use(e=>{let t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),r.interceptors.response.use(e=>e,e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e)});let l={register:e=>r.post("/auth/register",e),login:e=>r.post("/auth/login",e),getMe:()=>r.get("/auth/me")},i={getAll:()=>r.get("/chat"),getOne:e=>r.get("/chat/".concat(e)),create:e=>r.post("/chat",e),sendMessage:(e,t,s,a)=>r.post("/chat/".concat(e,"/message"),{message:t,fileData:s,fileUrl:a}),updateTitle:(e,t)=>r.patch("/chat/".concat(e,"/title"),{title:t}),share:e=>r.post("/chat/".concat(e,"/share")),delete:e=>r.delete("/chat/".concat(e))},c={getAll:()=>r.get("/documents"),getOne:e=>r.get("/documents/".concat(e)),upload:e=>{let t=new FormData;return t.append("file",e),r.post("/documents/upload",t,{headers:{"Content-Type":"multipart/form-data"}})},chat:(e,t)=>r.post("/documents/".concat(e,"/chat"),{message:t}),export:(e,t)=>r.post("/documents/".concat(e,"/export"),{format:t}),delete:e=>r.delete("/documents/".concat(e))},o={getAll:()=>r.get("/presentations"),getOne:e=>r.get("/presentations/".concat(e)),create:e=>r.post("/presentations",e),update:(e,t)=>r.patch("/presentations/".concat(e),t),export:(e,t)=>r.post("/presentations/".concat(e,"/export"),{format:t}),delete:e=>r.delete("/presentations/".concat(e))},d={getAll:()=>r.get("/websites"),getOne:e=>r.get("/websites/".concat(e)),generate:e=>r.post("/websites/generate",e),generateCode:e=>r.post("/websites/generate-code",e),preview:e=>r.get("/websites/preview/".concat(e)),export:e=>r.get("/websites/export/".concat(e)),update:(e,t)=>r.patch("/websites/".concat(e),t),download:e=>r.get("/websites/".concat(e,"/download")),delete:e=>r.delete("/websites/".concat(e))},u={getAll:()=>r.get("/mobile-apps"),getOne:e=>r.get("/mobile-apps/".concat(e)),generate:e=>r.post("/mobile-apps/generate",e),update:(e,t)=>r.patch("/mobile-apps/".concat(e),t),download:e=>r.get("/mobile-apps/".concat(e,"/download")),share:e=>r.post("/mobile-apps/".concat(e,"/share")),delete:e=>r.delete("/mobile-apps/".concat(e))},h={getCurrent:()=>r.get("/subscriptions"),checkout:e=>r.post("/subscriptions/checkout",{plan:e}),getInvoices:()=>r.get("/subscriptions/invoices")},p={getProfile:()=>r.get("/user/profile"),updateProfile:e=>r.patch("/user/profile",e),getUsage:e=>r.get("/user/usage",{params:e}),getDashboard:()=>r.get("/user/dashboard")},x={upload:e=>{let t=new FormData;return t.append("file",e),r.post("/media/upload",t,{headers:{"Content-Type":"multipart/form-data"}})},chat:(e,t)=>r.post("/media/".concat(e,"/chat"),{message:t})},m={login:()=>r.post("/linkedin/login"),oauthCallback:e=>r.get("/linkedin/oauth/callback?code=".concat(e)),generatePost:e=>r.post("/linkedin/generate-post",e),schedule:e=>r.post("/linkedin/schedule",e),autoMessage:e=>r.post("/linkedin/auto-message",e),autoComment:e=>r.post("/linkedin/auto-comment",e)},g={generate:e=>r.post("/social-media/generate",e),schedule:e=>r.post("/social-media/schedule",e),getScheduled:()=>r.get("/social-media/scheduled")},f={connect:e=>r.post("/email/connect",e),generateReply:e=>r.post("/email/generate-reply",e),getSuggestions:e=>r.post("/email/suggestions",e),getInbox:()=>r.get("/email/inbox")},b={getUsers:e=>r.get("/admin/users",{params:e}),getUser:e=>r.get("/admin/users/".concat(e)),updateUser:(e,t)=>r.patch("/admin/users/".concat(e),t),deleteUser:e=>r.delete("/admin/users/".concat(e)),getAnalytics:e=>r.get("/admin/analytics",{params:e}),getUsageLogs:e=>r.get("/admin/usage-logs",{params:e})}},8810:function(e,t,s){"use strict";s.r(t),s.d(t,{AuthProvider:function(){return i},useAuth:function(){return c}});var a=s(7437),n=s(2265),r=s(826);let l=(0,n.createContext)(void 0);function i(e){let{children:t}=e,[s,i]=(0,n.useState)(null),[c,o]=(0,n.useState)(null),[d,u]=(0,n.useState)(!0);(0,n.useEffect)(()=>{let e=localStorage.getItem("token");e?(o(e),h()):u(!1)},[]);let h=async()=>{try{let e=await r.iJ.getMe();i(e.data.user)}catch(e){localStorage.removeItem("token"),o(null)}finally{u(!1)}},p=async(e,t)=>{let{user:s,token:a}=(await r.iJ.login({email:e,password:t})).data;localStorage.setItem("token",a),o(a),i(s)},x=async(e,t,s)=>{let{user:a,token:n}=(await r.iJ.register({email:e,password:t,name:s})).data;localStorage.setItem("token",n),o(n),i(a)};return(0,a.jsx)(l.Provider,{value:{user:s,token:c,login:p,register:x,logout:()=>{localStorage.removeItem("token"),o(null),i(null)},loading:d},children:t})}function c(){let e=(0,n.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}}},function(e){e.O(0,[737,250,890,971,458,744],function(){return e(e.s=5196)}),_N_E=e.O()}]);